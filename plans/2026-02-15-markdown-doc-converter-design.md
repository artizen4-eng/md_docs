# Markdown → 문서 변환기 설계 문서

**작성일**: 2026-02-15
**프로젝트명**: Markdown Document Converter

---

## 1. Context

### 1.1 문제 정의

LLM이 출력하는 결과물은 대부분 Markdown 형식입니다. 사용자는 이를 Word 문서로 변환할 때 수동으로 서식을 정리해야 하는 번거로움이 있습니다.

### 1.2 목표

LLM 결과물(Markdown)을 Word 친화적 일반 문서로 자동 변환하는 웹 앱을 개발합니다.

### 1.3 핵심 가치

- **복사-붙여넣기 경험**: 클릭 한 번으로 Word에 바로 붙여넣을 수 있는 문서 생성
- **설정 가능성**: 프리셋 시스템으로 문서별 스타일 커스터마이징
- **다중 기기 접근**: 웹 앱으로 어디서든 사용 가능

---

## 2. 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│              React 웹 앱 (Cloudflare Pages)              │
│  ┌─────────────┐           ┌─────────────────────────┐  │
│  │  입력 창    │  ────→    │  Markdown 변환 엔진     │  │
│  │ (Markdown)  │           │  (md → formatted text)  │  │
│  └─────────────┘           └───────────┬─────────────┘  │
│                                         │                │
│  ┌─────────────┐           ┌───────────▼─────────────┘  │
│  │  출력 창    │  ←────    │  서식 정리 모듈         │  │
│  │ (일반 문서) │           │  (불필요 요소 제거)     │  │
│  └─────────────┘           └─────────────────────────┘  │
│                                         │                │
│              ┌──────────────────────────▼────────┐     │
│              │  [복사] [Word 다운로드]            │     │
│              └───────────────────────────────────┘     │
└─────────────────────────────────────────────────────────┘
```

---

## 3. 기술 스택

| 분야 | 기술 | 버전 |
|-----|------|------|
| 프레임워크 | React + Vite | ^18.3.0, ^5.0.0 |
| 언어 | TypeScript | ^5.3.0 |
| 스타일링 | Tailwind CSS | ^3.4.0 |
| 상태 관리 | Zustand | ^4.5.0 |
| 마크다운 파싱 | marked, remark | ^12.0.0, ^15.0.0 |
| 문서 변환 | turndown, html-docx-js | ^7.1.2, ^0.3.1 |
| 배포 | Cloudflare Pages | - |
| 저장소 | GitHub | - |

---

## 4. 핵심 기능

### 4.1 변환 규칙

| 마크다운 | 변환 결과 |
|---------|----------|
| `# 제목 1` | [크기 20, 볼드] 제목 1 |
| `## 제목 2` | [크기 16, 볼드] 제목 2 |
| `### 제목 3` | [크기 14, 볼드] 제목 3 |
| `**볼드**` | 볼드 |
| `*이탤릭*` | 이탤릭 |
| `- 리스트` | • 리스트 |
| `1. 순서` | 1. 순서 |
| `` `코드` `` | 텍스트 (백틱 제거) |
| ` ```코드블록``` ` | 제거 또는 인용문 |
| `> 인용` | 인용문 |

### 4.2 프리셋 시스템

사용자가 다음 항목을 커스터마이징 가능:
- 헤딩 스타일 (크기, 볼드, 간격)
- 본문 스타일 (크기, 줄간격, 자간, 문단 간격)
- 리스트 스타일 (불릿, 들여쓰기)
- 코드 처리 (인라인, 블록)
- 인용문 스타일
- 테이블 형식

### 4.3 내보내기

- **클립보드 복사**: Navigator Clipboard API
- **Word 파일**: HTML → DOCX 변환 후 다운로드

---

## 5. 프로젝트 구조

```
markdown-doc-converter/
├── public/
├── src/
│   ├── components/
│   │   ├── Editor.tsx           # 마크다운 입력 에디터
│   │   ├── Preview.tsx          # 변환 결과 미리보기
│   │   ├── Toolbar.tsx          # 복사, 저장 버튼
│   │   ├── SettingsPanel.tsx    # 설정 패널
│   │   └── PresetManager.tsx    # 프리셋 관리
│   ├── lib/
│   │   ├── transformers/
│   │   │   ├── markdownParser.ts
│   │   │   ├── documentConverter.ts
│   │   │   └── cleanup.ts
│   │   ├── exporters/
│   │   │   ├── clipboard.ts
│   │   │   └── docx.ts
│   │   ├── presets.ts           # 기본 프리셋
│   │   └── storage.ts           # LocalStorage 관리
│   ├── types/
│   │   ├── config.ts
│   │   └── index.ts
│   ├── hooks/
│   │   ├── useConverter.ts
│   │   ├── usePresets.ts
│   │   └── useStorage.ts
│   ├── store/
│   │   └── converterStore.ts    # Zustand 스토어
│   ├── App.tsx
│   └── main.tsx
├── package.json
├── vite.config.ts
├── tsconfig.json
├── tailwind.config.js
└── README.md
```

---

## 6. UI 설계

```
┌─────────────────────────────────────────────────────────┐
│  📝 Markdown → 문서 변환기                    [⚙️ 설정]  │
├─────────────────────────────────────────────────────────┤
│  [프리셋 선택 ▼] 보고서 기본 | 회의록 | 간단한 메모 | +  │
├──────────────────┬──────────────────────────────────────┤
│  입력 (Markdown)  │  미리보기 (변환 결과)                │
│  ┌────────────┐  │  ┌────────────────────────────────┐ │
│  │ # 제목     │  │  │ 제목                            │ │
│  │           │  │  │                                 │ │
│  │ **중요**  │  │  │ 중요                            │ │
│  └────────────┘  │  └────────────────────────────────┘ │
│                  │                                      │
│  [변환하기] 🔄   │  [📋 복사] [📄 Word 저장]           │
└──────────────────┴──────────────────────────────────────┘
```

---

## 7. 에러 처리

| 에러 상황 | 대응 |
|---------|------|
| 빈 입력 | "변환할 내용을 입력해주세요" |
| 파싱 실패 | "마크다운 형식을 확인해주세요" |
| 클립보드 실패 | 레거시 방식 대체 또는 안내 |
| LocalStorage 만료 | "저장 공간 부족" 메시지 |
| Word 생성 실패 | 텍스트 복사 안내 |

---

## 8. 배포

- **플랫폼**: Cloudflare Pages
- **방법**: GitHub 연동 자동 배포
- **URL**: (추후 설정)

---

## 9. 개발 단계

1. **Phase 1**: 프로젝트 세팅, 기본 UI
2. **Phase 2**: 마크다운 변환 로직
3. **Phase 3**: 설정/프리셋 시스템
4. **Phase 4**: 클립보드/Word 내보내기
5. **Phase 5**: 배포

---

## 10. 성공 기준

- [ ] 마크다운 입력 → 문서 변환 정확도 95% 이상
- [ ] 프리셋 저장/불러오기 정상 작동
- [ ] 클립보드 복사 기능 작동
- [ ] Word 파일 다운로드 기능 작동
- [ ] 모바일 반응형 UI
- [ ] Cloudflare Pages 배포 완료
